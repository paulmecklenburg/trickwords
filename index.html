<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Trick Words Practice</title>
    <script type="text/javascript">
      var txtInput = document.querySelector('#txtInput');
      var btnSpeak = document.querySelector('#btnSpeak');
      var synth = window.speechSynthesis;
      var voices = [];
      var weeks = {
        week1: ["friend", "neighbor"]
      };

      function populateVoices(){
        voices = synth.getVoices();
        voices.forEach((item, index) => console.log(item.name, index));
      }

      function populateWeekList() {
        var sel = document.getElementById('selectWeek');
        for (const k of Object.keys(weeks)) {
          var opt = document.createElement('option');
          opt.value = k;
          opt.innerHTML = k;
          sel.appendChild(opt);
        }
      }

      document.addEventListener("DOMContentLoaded", function() {
        populateVoices();
      
        if (speechSynthesis !== undefined){
          speechSynthesis.onvoiceschanged = populateVoices;
        }

        btnSpeak.addEventListener('click', ()=> {
          var toSpeak = new SpeechSynthesisUtterance(txtInput.textContent);
          toSpeak.voice = voices[7]; // Spanish
          synth.speak(toSpeak);
        });

        document.addEventListener("keypress", function onEvent(event) {
          console.log(event.key);
        });
      });
    </script>
  </head>
  <body>
    <p id="txtInput">Speak this text</p>
    <button id='btnSpeak'>Speak!</button>
    <select name="selectWeek" id="selectWeek">
    </select>
  </body>
</html>
